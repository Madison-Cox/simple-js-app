let pokemonRepository=function(){let f=[];function a(a){'object'==typeof a&&'name'in a&&'detailsUrl'in a?f.push(a):console.log('Pokemon is not correct')}function b(){return f}function c(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.name=b.name,a.imageUrl=b.sprites.front_default,a.height=b.height,a.types=b.types.map(a=>a.type.name).join(', ')}).catch(function(a){console.error(a)})}function d(a){let b=$('.modal-body'),d=$('.modal-title');d.empty(),b.empty();let e=$('<h2>'+a.name+'<h2>'),c=$('<img class="modal-img" style="width:50%">');c.attr('src',a.imageUrl),c.attr('aria-label',a.name);let f=$('<p>Height: '+a.height+'</p>'),g=$('<p>Type: '+a.types+'</p>');d.append(e),b.append(c),b.append(f),b.append(g)}function e(a){c(a).then(function(){d(a)})}return{add:a,getAll:b,addListItem:function(c){let d=document.querySelector('.list-group'),b=document.createElement('li'),a=document.createElement('button');b.classList.add('group-list-item'),a.innerText=c.name,a.classList.add('btn','btn-outline-primary','button-class'),a.setAttribute('data-toggle','modal'),a.setAttribute('data-target','#details-modal'),b.appendChild(a),d.appendChild(b),a.addEventListener('click',function(){e(c)})},loadList:function(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=150').then(function(a){return a.json()}).then(function(b){b.results.forEach(function(b){a({name:b.name,detailsUrl:b.url})})}).catch(function(a){console.error(a)})},loadDetails:c,showDetails:e,showModal:d}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})
